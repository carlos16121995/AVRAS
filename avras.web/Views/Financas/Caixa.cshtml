
@{
    ViewData["Title"] = "Caixa";
    Layout = "~/Views/Shared/_Layout_Painel.cshtml";
}
@section script {
<script>
    function formatarMoeda(elemento) {
            var valor = elemento.value;

            valor = valor + '';
            valor = parseInt(valor.replace(/[\D]+/g, ''));
            valor = valor + '';
            valor = valor.replace(/([0-9]{2})$/g, ",$1");

            if (valor.length > 6) {
                valor = valor.replace(/([0-9]{3}),([0-9]{2}$)/g, ".$1,$2");
            }
            if (valor == "NaN") {
                valor = 0;
            }
            elemento.value = valor;
            if (valor == "NaN" || valor == 0) {
                $("#valor").focus();
                $("#valor").addClass("is-invalid");
                if ($("#valor").hasClass("is-valid"))
                    $("#valor").removeClass("is-valid");
                return false;
            }
            else {
                $("#valor").focus();
                $("#valor").addClass("is-valid");
                if ($("#valor").hasClass("is-invalid"))
                    $("#valor").removeClass("is-invalid");
                return true;
            }
    }
    function Alterar(multiplicador) {

        var valor = $("#valor").val();
        if (valor.length <= 3) {
            valor
        }
        valor = valor.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
        valor = valor * multiplicador;
        alert(valor);
    }
</script>
}
    <div class="container my-5 ">
        <div class="row ">
            <div class="col-lg-1 col-12" align="center">
                <span> <img src="~/images/finanças.png" class="logo" alt="Imagem de 1 caixa" /></span>
            </div>
            <div class="col-lg-6 col-12 align-self-center float-none">
                <h2> Caixa </h2><span id="carregando"></span>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row ">
            <h1 class="align-middle">Valor no caixa:  </h1>
            <h1 id="caixa" class="text-danger ml-3">500</h1>
        </div>
        <hr />
        <div class="row col-12 col-lg-12">
            <div class="form-group col-12 col-lg-6">
                <label for="venda">Valor:</label>
                <input type="text" pattern="(\b[0-9]\b)/g" onkeyup="formatarMoeda(this);" class="form-control" id="valor" required>
                <div class="valid-feedback" id="valida-venda-valid">
                </div>
            </div>
            <div class="form-group col-12 col-lg-6">
                <div class="form-group col-12 col-lg-6">
                    <button class="btn btn-dark float-righ btn-block" onclick="javascript: Alterar(1);" type="button">Adicionar</button>
                </div>
                <div class="form-group col-12 col-lg-6">
                    <button class="btn btn-dark float-right btn-block" onclick="javascript: Alterar(-1);" type="button">Remover</button>
                </div>
            </div>
        </div>
        
    </div>
